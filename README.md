# Dominion Supply Suggester

ドミニオン(Dominion)のサプライ（王国カード10枚のセット）を、より面白く、バランスの取れた組み合わせになるように提案するWebアプリケーションです。

単純なランダム生成だけでなく、カード間のシナジーや、アタックカードへの対策などを考慮した「賢い」提案ロジックを備えています。さらに、生成されたサプライをユーザーが評価し、その評価に基づいた人気ランキングを閲覧することもできます。

**🔗 公開アプリケーションURL:** [https://dominion-supply-suggester.onrender.com/](https://dominion-supply-suggester.onrender.com/)

![アプリのスクリーンショット](./img/dominion_supply_suggester_homepage.png)

---

## ✨ 主な機能

* **賢いサプライ生成**:
    * **シナジーと対策の考慮**: アタックカードとリアクションカード、ターミナルアクションと村系カードなど、カード間の相互作用を考慮して、ゲームが面白くなる組み合わせを動的に生成します。
    * **役割の保証**: ゲームが機能不全に陥らないよう、序盤は特に「廃棄」カードなどが選ばれやすくなるロジックを搭載しています。
* **柔軟なフィルター機能**:
    * **テーマ(Tags)選択**: 「アタック」「ドロー」「デッキ操作」など、特定のテーマを持つカードをサプライに含めるかどうかをフィルタリングできます。
    * **コスト範囲指定**: 使いたいカードのコスト帯をスライダーで直感的に指定できます。
* **禁止・必須カード選択**:
    * **3ステート選択UI**: 全カードの一覧から、クリックするだけで「通常 → 必須 → 禁止 → 通常」と状態を切り替え、サプライ構成を細かくコントロールできます。
* **サプライ評価機能**:
    * 生成されたサプライに対して、ユーザーが5段階の星評価とコメントを投稿できます。
* **人気サプライランキング**:
    * 全ユーザーの評価データを集計し、平均評価点が高い人気のサプライをランキング形式で閲覧できます。
* **テーマ性のあるUI/UX**:
    * ゲームの世界観に合わせた、中世風のフォントや羊皮紙・木目を基調としたデザイン。

---

## 🛠️ 技術スタック

* **フロントエンド**: React, React Router
* **バックエンド**: Node.js, Express.js
* **データベース**: Supabase (PostgreSQL)
* **デプロイ**: Render

---

## 🚀 ローカル環境でのセットアップと実行

#### 1. リポジトリをクローン

```bash
git clone [https://github.com/YOUR_GITHUB_USERNAME/dominion-suggester.git](https://github.com/YOUR_GITHUB_USERNAME/dominion-suggester.git)
cd dominion-suggester
```

#### 2. 環境変数の設定

`server`ディレクトリの直下に`.env`ファイルを作成し、Supabaseから取得したあなたのキー情報を記述します。

**`server/.env`**:
```
SUPABASE_URL=YOUR_SUPABASE_URL
SUPABASE_SERVICE_KEY=YOUR_SUPABASE_SERVICE_KEY
```

#### 3. 依存関係のインストール

2つのターミナルを開き、それぞれで以下のコマンドを実行します。

**ターミナル1 (サーバー用):**
```bash
cd server
npm install
```

**ターミナル2 (クライアント用):**
```bash
cd client
npm install
```

#### 4. アプリケーションの起動

引き続き、2つのターミナルで起動コマンドを実行します。

**ターミナル1 (サーバー用):**
```bash
cd server
npm start
```
> バックエンドサーバーが `http://localhost:5001` で起動します。

**ターミナル2 (クライアント用):**
```bash
cd client
npm start
```
> 自動的にブラウザで `http://localhost:3000` が開かれます。

---

## 今後の展望

* ユーザー認証機能とマイページの追加
* 保存したサプライの編集・再生成機能
* 拡張セットへの対応
* 評価データに基づいた機械学習による、提案ロジックの自己進化

---